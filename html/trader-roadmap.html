<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FIN‚Ä¢OS | Trader GPS (God Mode)</title>

  <link rel="stylesheet" href="../css/base.css">
  <link rel="stylesheet" href="../css/layout.css">
  <link rel="stylesheet" href="../css/components.css">

  <style>
    /* =========================
       THEME: TACTICAL COMMAND
       ========================= */
    :root {
      --neon-cyan: #00f3ff;
      --neon-purple: #bc13fe;
      --neon-green: #0aff68;
      --neon-red: #ff0050;
      --neon-orange: #ff5e00;
      --neon-yellow: #f5d300;
      --bg-void: #050101;
      --glass: rgba(255, 255, 255, 0.03);
      --border: rgba(255, 94, 0, 0.3);
      --font-display: 'Manrope', sans-serif;
      --font-mono: 'JetBrains Mono', monospace;
    }

    body {
      background-color: var(--bg-void) !important;
      background-image: 
        linear-gradient(rgba(255, 94, 0, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 94, 0, 0.03) 1px, transparent 1px);
      background-size: 30px 30px;
      color: #fff !important;
      font-family: var(--font-display);
      overflow-x: hidden;
    }

    /* Sidebar Override */
    .sidebar { background: rgba(0,0,0,0.95); border-right: 1px solid #331100; backdrop-filter: blur(10px); }

    .content-wrapper {
      max-width: 1000px;
      margin: 0 auto;
      padding-top: 40px;
      padding-bottom: 100px;
      position: relative;
    }

    /* =========================
       PHASE 1: THE SCANNER
       ========================= */
    .scanner-header { text-align: center; margin-bottom: 40px; }
    .glitch-title { font-size: 3rem; font-weight: 900; text-transform: uppercase; text-shadow: 0 0 20px rgba(255, 94, 0, 0.4); letter-spacing: -1px; color: #fff; }
    
    .input-grid-wrapper {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
    }

    .question-card {
      background: var(--glass);
      border: 1px solid var(--border);
      padding: 25px;
      border-radius: 12px;
      transition: all 0.3s ease;
    }
    .question-card:hover { border-color: var(--neon-orange); box-shadow: 0 0 15px rgba(255, 94, 0, 0.1); }

    .q-title { font-size: 1rem; margin-bottom: 15px; color: #aaa; text-transform: uppercase; font-family: var(--font-mono); display: flex; justify-content: space-between; }
    
    .option-btn {
      background: rgba(0,0,0,0.4);
      border: 1px solid #333;
      padding: 12px;
      border-radius: 6px;
      cursor: pointer;
      text-align: left;
      margin-bottom: 8px;
      transition: 0.2s;
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      gap: 10px;
      color: #ccc;
    }
    .option-btn:hover { border-color: #888; color: #fff; }
    
    .option-btn.selected {
      background: rgba(255, 94, 0, 0.15);
      border-color: var(--neon-orange);
      color: var(--neon-orange);
      font-weight: 700;
    }

    .calc-btn {
      background: var(--neon-orange);
      color: #000;
      border: none;
      padding: 18px 50px;
      font-size: 1.2rem;
      font-weight: 800;
      cursor: pointer;
      text-transform: uppercase;
      letter-spacing: 2px;
      box-shadow: 0 0 20px var(--neon-orange);
      transition: 0.3s;
      display: block;
      margin: 40px auto;
      clip-path: polygon(10% 0, 100% 0, 100% 80%, 90% 100%, 0 100%, 0 20%);
    }
    .calc-btn:hover { transform: scale(1.05); }

    /* =========================
       PHASE 2: THE OUTPUT HUD
       ========================= */
    .roadmap-section { display: none; animation: slideUp 0.6s ease forwards; }
    @keyframes slideUp { from { opacity: 0; transform: translateY(50px); } to { opacity: 1; transform: translateY(0); } }

    /* Persona HUD */
    .tactical-hud {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 20px;
      margin-bottom: 40px;
    }

    .hud-main {
      background: #0a0500;
      border: 1px solid var(--neon-orange);
      padding: 30px;
      border-radius: 12px;
      position: relative;
      overflow: hidden;
    }

    .hud-stats {
      background: rgba(0,0,0,0.5);
      border: 1px solid #333;
      padding: 20px;
      border-radius: 12px;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .hud-title { font-size: 2.5rem; font-weight: 900; color: #fff; text-transform: uppercase; line-height: 1; margin-bottom: 10px; }
    .hud-subtitle { color: var(--neon-orange); font-family: var(--font-mono); margin-bottom: 20px; display: block; }
    .hud-analysis { color: #ccc; font-size: 1rem; line-height: 1.6; border-top: 1px solid #333; padding-top: 15px; }

    /* Adjustments Grid */
    .adjustments-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin-top: 10px;
    }
    .adj-card {
      background: rgba(255,255,255,0.05);
      padding: 10px;
      border-radius: 6px;
      border-left: 2px solid #555;
    }
    .adj-label { font-size: 0.75rem; color: #888; text-transform: uppercase; display: block; }
    .adj-val { font-size: 1rem; font-weight: bold; color: #fff; }

    /* Mission Timeline */
    .mission-container {
      position: relative;
      padding-left: 40px;
    }
    .mission-line {
      position: absolute; left: 19px; top: 0; bottom: 0; width: 2px;
      background: linear-gradient(to bottom, var(--neon-orange), transparent);
    }
    
    .mission-node {
      position: relative;
      margin-bottom: 40px;
      background: var(--glass);
      border: 1px solid #333;
      border-radius: 8px;
      padding: 25px;
      transition: 0.3s;
    }
    .mission-node:hover { border-color: var(--neon-orange); transform: translateX(5px); }
    
    .node-marker {
      position: absolute; left: -49px; top: 25px;
      width: 20px; height: 20px;
      background: #000;
      border: 2px solid var(--neon-orange);
      transform: rotate(45deg);
      box-shadow: 0 0 10px var(--neon-orange);
      z-index: 2;
    }

    .m-header { display: flex; justify-content: space-between; margin-bottom: 10px; }
    .m-phase { font-family: var(--font-mono); color: var(--neon-orange); font-size: 0.8rem; }
    .m-title { font-size: 1.4rem; font-weight: 800; color: #fff; }
    .m-desc { color: #aaa; font-size: 0.95rem; line-height: 1.6; margin-bottom: 15px; }
    
    .m-tactic {
      background: rgba(255, 94, 0, 0.1);
      border-left: 3px solid var(--neon-orange);
      padding: 10px 15px;
      color: #ddd;
      font-size: 0.9rem;
      font-style: italic;
    }

    @media (max-width: 900px) {
        .input-grid-wrapper { grid-template-columns: 1fr; }
        .tactical-hud { grid-template-columns: 1fr; }
    }

  </style>
</head>

<body>
<div class="app">

  <aside class="sidebar">
    <div class="logo" style="color:var(--neon-orange);">FIN‚Ä¢OS</div>
    <nav>
      <a href="home.html">Home</a>
      <a href="markets.html">Markets</a>
      <a href="dashboard.html">Dashboard</a>
      <a href="roadmap.html">GPS</a>
      <a href="trader-roadmap.html" class="active">Trader GPS</a>
    </nav>
  </aside>

  <main class="main">
    <div class="content-wrapper">

      <section id="scanner">
        <div class="scanner-header">
          <div class="glitch-title">Tactical Calibration</div>
          <p style="color:#666; font-family:var(--font-mono);">// CONFIGURE MISSION PARAMETERS</p>
        </div>

        <div class="input-grid-wrapper">

            <div class="question-card">
                <div class="q-title">01 Income Dependency</div>
                <div class="option-btn" onclick="setParam('income', 1, this)">üö® Need profits for bills</div>
                <div class="option-btn" onclick="setParam('income', 2, this)">‚ö†Ô∏è Partial dependency</div>
                <div class="option-btn" onclick="setParam('income', 3, this)">‚úÖ Zero dependency</div>
            </div>

            <div class="question-card">
                <div class="q-title">02 Capital Source</div>
                <div class="option-btn" onclick="setParam('capital', 1, this)">üí∏ Loan / Borrowed</div>
                <div class="option-btn" onclick="setParam('capital', 2, this)">üè¶ Savings (Fear of loss)</div>
                <div class="option-btn" onclick="setParam('capital', 3, this)">üóëÔ∏è Risk Capital (Disposable)</div>
            </div>

            <div class="question-card">
                <div class="q-title">03 Emotional Baseline</div>
                <div class="option-btn" onclick="setParam('emotion', 1, this)">ü§¨ Impulsive / Revenge</div>
                <div class="option-btn" onclick="setParam('emotion', 2, this)">üò∞ Nervous / Hesitant</div>
                <div class="option-btn" onclick="setParam('emotion', 3, this)">üòê Neutral / Disciplined</div>
            </div>

            <div class="question-card">
                <div class="q-title">04 Market Hours</div>
                <div class="option-btn" onclick="setParam('time', 1, this)">üé≤ Random / Unpredictable</div>
                <div class="option-btn" onclick="setParam('time', 2, this)">‚öñÔ∏è 1-2 Hours Fixed</div>
                <div class="option-btn" onclick="setParam('time', 3, this)">üëÄ Full Session</div>
            </div>

            <div class="question-card">
                <div class="q-title">05 Current Process</div>
                <div class="option-btn" onclick="setParam('skill', 1, this)">üì∫ Tips / YouTube Calls</div>
                <div class="option-btn" onclick="setParam('skill', 2, this)">üìâ Setup Hopping</div>
                <div class="option-btn" onclick="setParam('skill', 3, this)">üìì Data / Systems</div>
            </div>

            <div class="question-card">
                <div class="q-title">06 Driver (Goal)</div>
                <div class="option-btn" onclick="setParam('ego', 1, this)">ü¶Å To be Right (Win)</div>
                <div class="option-btn" onclick="setParam('ego', 2, this)">ü§ë To make Fast Money</div>
                <div class="option-btn" onclick="setParam('ego', 3, this)">ü§ñ To execute Rules</div>
            </div>

        </div>

        <button class="calc-btn" id="calcBtn" onclick="generateDynamicRoadmap()" style="opacity:0.5; pointer-events:none;">Initialize System ‚ûî</button>

      </section>


      <section id="roadmap" class="roadmap-section">
        
        <div class="tactical-hud">
          <div class="hud-main">
             <span class="hud-subtitle" id="threatLevel">// THREAT LEVEL: CRITICAL</span>
             <h1 class="hud-title" id="personaName">THE KAMIKAZE</h1>
             <div class="hud-analysis" id="personaAnalysis">
               Analysis text goes here.
             </div>
          </div>

          <div class="hud-stats">
            <div style="font-family:var(--font-mono); color:#fff; border-bottom:1px solid #555; padding-bottom:10px; margin-bottom:10px;">OPERATING LIMITS</div>
            <div class="adjustments-grid" id="adjustmentsList">
              </div>
          </div>
        </div>

        <h3 style="margin-bottom:30px; border-bottom:1px solid #333; padding-bottom:10px;">TACTICAL MISSION ROADMAP</h3>
        <div class="mission-container">
          <div class="mission-line"></div>
          <div id="missionList">
             </div>
        </div>

        <div style="text-align:center; margin-top:80px;">
            <button onclick="location.reload()" style="background:transparent; border:1px solid #444; color:#888; padding:10px 20px; border-radius:4px; cursor:pointer;">[ RE-EVALUATE ]</button>
        </div>

      </section>

    </div>
  </main>
</div>

<script>
  let p = { income: 0, capital: 0, emotion: 0, time: 0, skill: 0, ego: 0 };

  function setParam(key, value, btn) {
    p[key] = value;
    const parent = btn.closest('.question-card');
    parent.querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected'));
    btn.classList.add('selected');

    if(Object.values(p).every(v => v > 0)) {
      const btn = document.getElementById('calcBtn');
      btn.style.opacity = '1';
      btn.style.pointerEvents = 'all';
    }
  }

  function generateDynamicRoadmap() {
    document.getElementById('scanner').style.display = 'none';
    document.getElementById('roadmap').style.display = 'block';

    let persona = "UNKNOWN";
    let threat = "MODERATE";
    let analysis = "";
    let color = "#fff";
    let missions = [];
    let adjustments = [];

    // --- 1. PERSONA & ANALYSIS LOGIC ---

    // A. THE SURVIVAL RISK (Loan/Bills)
    if (p.income === 1 || p.capital === 1) {
      persona = "THE HOSTAGE";
      threat = "CRITICAL (DO NOT TRADE)";
      color = "var(--neon-red)";
      analysis = "You are trading with money you cannot afford to lose. This creates fear. Fear creates mistakes. The market will liquidate you because you are desperate.";
      
      adjustments.push({label: "LEVERAGE", val: "ZERO"});
      adjustments.push({label: "CAPITAL", val: "LOCKED"});
      adjustments.push({label: "MODE", val: "SIMULATOR"});
      adjustments.push({label: "FOCUS", val: "INCOME"});

      missions.push({ title: "Operation Shutdown", desc: "Close all active trading accounts. Withdraw remaining funds immediately.", tactic: "You cannot trade freely when your rent depends on it." });
      missions.push({ title: "Capital Detox", desc: "If you have a loan, pay it first. If you have savings, put them in FD. Do not touch markets.", tactic: "Remove the gun from your head." });
      missions.push({ title: "Income Diversification", desc: "Get a job or gig. You need a cash flow that is NOT from trading.", tactic: "Trading feeds on capital, it doesn't create it initially." });
      missions.push({ title: "Paper War", desc: "Trade on a simulator for 3 months. Prove you can make points, not money.", tactic: "Build skill without bleeding cash." });
      missions.push({ title: "The Return Criteria", desc: "Only return when you have 6 months of living expenses saved.", tactic: "Survival first, glory later." });
    }

    // B. THE GAMBLER (High Ego/Impulsive)
    else if (p.ego !== 3 || p.emotion === 1) {
      persona = "THE GAMBLER";
      threat = "HIGH (PSYCHOLOGICAL)";
      color = "var(--neon-orange)";
      analysis = "You have capital, but your mind is broken. You want excitement, not boredom. You are chasing dopamine, not alpha.";

      adjustments.push({label: "DAILY LOSS", val: "STRICT 1%"});
      adjustments.push({label: "TRADES/DAY", val: "MAX 3"});
      adjustments.push({label: "P&L VIEW", val: "HIDDEN"});
      adjustments.push({label: "SETUP", val: "ONLY ONE"});

      missions.push({ title: "Dopamine Detox", desc: "Stop watching P&L. Hide the column. Focus only on the chart.", tactic: "P&L is noise. Price is signal." });
      missions.push({ title: "The 1-Lot Protocol", desc: "Trade with minimum quantity for 30 days. Your goal is consistency, not money.", tactic: "If you can't manage ‚Çπ500 risk, you can't manage ‚Çπ50k." });
      missions.push({ title: "Hard Stop Implementation", desc: "System stop loss is mandatory. No mental stops.", tactic: "Remove willpower from the equation." });
      missions.push({ title: "The 3-Bullet Rule", desc: "Max 3 trades a day. Win or lose, you close the laptop.", tactic: "Overtrading is your biggest enemy." });
      missions.push({ title: "Journaling Penance", desc: "Write down why you took every trade. If you can't explain it, you punished.", tactic: "Force accountability." });
    }

    // C. THE PART-TIMER (Low Time, High Risk)
    else if (p.time === 1 || p.time === 2) {
      persona = "THE GUERILLA";
      threat = "MODERATE (STRUCTURAL)";
      color = "var(--neon-yellow)";
      analysis = "You are trying to Day Trade against algos while working a job. You will lose. You need to shift to a style that fits your schedule.";

      adjustments.push({label: "TIMEFRAME", val: "4H / DAILY"});
      adjustments.push({label: "STYLE", val: "SWING"});
      adjustments.push({label: "SCREEN TIME", val: "WEEKEND"});
      adjustments.push({label: "ALERTS", val: "ON PRICE"});

      missions.push({ title: "Stop Day Trading", desc: "You cannot scalp on a lunch break. Shift to Swing Trading (holding for days).", tactic: "Play the game you can win." });
      missions.push({ title: "The Sunday Prep", desc: "Do all analysis on Sunday. Set alerts. Do not analyze during market hours.", tactic: "Execution only during market hours." });
      missions.push({ title: "GTT Orders", desc: "Use 'Good Till Triggered' orders to automate entry and exit.", tactic: "Let the system trade for you." });
      missions.push({ title: "Widen the Stops", desc: "Swing trading needs breathing room. Reduce size, increase stop distance.", tactic: "Survive the noise." });
      missions.push({ title: "Sector Focus", desc: "Trade only high-momentum sectors/stocks. Avoid index options.", tactic: "Stock trends are cleaner than Index noise." });
    }

    // D. THE PRO (High Skill, Good Mindset)
    else if (p.skill === 3 && p.capital === 3) {
      persona = "THE SNIPER";
      threat = "LOW (OPTIMIZATION)";
      color = "var(--neon-green)";
      analysis = "You are ready. Your systems are go. Now the game is about scaling up without blowing up.";

      adjustments.push({label: "SIZING", val: "PYRAMIDING"});
      adjustments.push({label: "REVIEW", val: "WEEKLY"});
      adjustments.push({label: "FOCUS", val: "EXECUTION"});
      adjustments.push({label: "RISK", val: "DYNAMIC"});

      missions.push({ title: "The A+ Filter", desc: "Stop taking B-grade trades. Wait for the perfect setup. Do nothing otherwise.", tactic: "Patience pays more than activity." });
      missions.push({ title: "Scale In, Scale Out", desc: "Don't enter full size. Add to winners. Cut losers fast.", tactic: "Maximize the runners." });
      missions.push({ title: "Withdrawal Routine", desc: "Pay yourself. Withdraw 50% of profits every month.", tactic: "Make the money real." });
      missions.push({ title: "Multiple Systems", desc: "Develop a secondary setup for different market conditions (Trending vs Sideways).", tactic: "Diversify your edge." });
      missions.push({ title: "Mentor Others", desc: "Teaching reinforces learning. Help a junior trader.", tactic: "Legacy." });
    }
    
    // DEFAULT FALLBACK (The Learner)
    else {
      persona = "THE APPRENTICE";
      threat = "ELEVATED (LEARNING)";
      color = "var(--neon-cyan)";
      analysis = "You are on the right path but lack structure. You are jumping between strategies. You need to become a specialist.";

      adjustments.push({label: "STRATEGY", val: "SINGLE"});
      adjustments.push({label: "INSTRUMENT", val: "ONE"});
      adjustments.push({label: "RISK", val: "FIXED $ amount"});
      adjustments.push({label: "DATA", val: "LOGGING"});

      missions.push({ title: "The Specialist", desc: "Choose ONE instrument (e.g., Nifty or Crude) and trade ONLY that for 60 days.", tactic: "Deep familiarity beats broad knowledge." });
      missions.push({ title: "Data Collection", desc: "Log 50 trades of the same setup. Don't change rules until you have 50 samples.", tactic: "Prove the edge mathematically." });
      missions.push({ title: "Risk Standardization", desc: "Risk exactly the same amount per trade (e.g., ‚Çπ1000). Never vary it.", tactic: "Consistency in inputs = Consistency in outputs." });
      missions.push({ title: "The 'No-Touch' Rule", desc: "Once entered, set Stop and Target. Then remove hands from keyboard.", tactic: "Stop micromanaging." });
      missions.push({ title: "Weekend Review", desc: "Analyze winners vs losers. Find the common mistake.", tactic: "Feedback loop." });
    }

    // --- RENDER ---
    document.getElementById('personaName').innerText = persona;
    document.getElementById('personaName').style.color = color;
    document.getElementById('threatLevel').innerText = `// THREAT LEVEL: ${threat}`;
    document.getElementById('threatLevel').style.color = color;
    document.getElementById('personaAnalysis').innerText = analysis;

    // Adjustments
    const adjContainer = document.getElementById('adjustmentsList');
    adjContainer.innerHTML = '';
    adjustments.forEach(a => {
      adjContainer.innerHTML += `
        <div class="adj-card" style="border-left-color:${color}">
          <span class="adj-label">${a.label}</span>
          <span class="adj-val">${a.val}</span>
        </div>`;
    });

    // Missions
    const missionContainer = document.getElementById('missionList');
    missionContainer.innerHTML = '';
    missions.forEach((m, i) => {
      missionContainer.innerHTML += `
        <div class="mission-node" style="animation-delay:${i*0.1}s">
          <div class="node-marker" style="border-color:${color}; box-shadow:0 0 10px ${color}"></div>
          <div class="m-header">
            <span class="m-phase">PHASE 0${i+1}</span>
          </div>
          <div class="m-title">${m.title}</div>
          <div class="m-desc">${m.desc}</div>
          <div class="m-tactic" style="border-color:${color}; background:${color}10">${m.tactic}</div>
        </div>
      `;
    });
  }
</script>
</body>
</html>